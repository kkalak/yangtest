<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="User">

	<select id="userSelect" parameterType="String" resultType="com.kitri.fpgw.model.UserDto">
		SELECT 	UM_CODE STRCODE, 					UM_NAME STRNAME,
				UM_ID STRID, UM_PWD STRPWD,
				UM_DEPART_CD STRDEPART_CD, 			DE_NAME STRDEPART_NM,
				UM_POSITION STRPOSITION_CD, 		CM.CM_NAME STRPOSIONT_NM,
				UM_LEVEL INTLEVEL, 
				UM_TEL1 STRCO_TEL1, 				UM_TEL2 STRCO_TEL2, 
				UM_TEL3 STRCO_TEL3, 				UM_INLINE STRCO_TEL_INLINE,
				UM_HIRE_Y STRHIRE_YYYY, 			UM_HIRE_M STRHIRE_MM,
				UM_HIRE_D STRHIRE_DD, 				UM_VACATION_CNT INTVACATION_COUNT,
				UM_USE_FLAG INTUSE_FLAG, 			UD_GENDER STRGENDER,
				UD_BIRTH_Y STRBIRTH_YYYY, 			UD_BIRTH_M STRBIRTH_MM,
				UD_BIRTH_Y STRBIRTH_DD, 			UD_CALENDER_KIND INTCALENDER_KIND,
				UD_TEL1 STRHOME_TEL1, 				UD_TEL2 STRHOME_TEL2,
				UD_TEL3 STRHOME_TEL3, 				UD_MOBILE1 STRMOBILE1,
				UD_MOBILE2 STRMOBILE2, 				UD_MOBILE3 STRMOBILE3,
				UD_ZIP1 STRZIP1, 					UD_ZIP2 STRZIP2,
				UD_ADDR1 STRADDR1, 					UD_ADDR2 STRADDR2,
				UD_HOMEPAGE STRHOME_PAGE, 
				UD_WEDDING_FLAG INTWEDDING_FLAG, 	UD_WEDDING_Y STRWEDDING_YYYY,
				UD_WEDDING_M STRWEDDING_MM, 		UD_WEDDING_D STRWEDDING_DD,
				UD_HOBBY STRHOBBY, 					UD_RESUME STRRESUME,
				UD_INTRODUCTION STRINTRODUCTION, 	UD_MEMO STRMEMO,
				UI_FACE_NAME STRFACE_NAME, 			UI_FACE_PATH STRFACE_PATH,
				UI_SIGN_NAME STRSIGN_NAME, 			UI_SIGN_PATH STRSIGN_PATH
		FROM 	USER_MAIN UM
				LEFT OUTER JOIN USER_DETAIL UD 		ON	(UM.UM_CODE = UD.UD_UM_CODE)
				LEFT OUTER JOIN USER_IMAGE UI 		ON 	(UM.UM_CODE = UI.UI_UM_CODE)
				LEFT OUTER JOIN DEPART DE 			ON 	(UM.UM_DEPART_CD = DE.DE_DCODE)
				LEFT OUTER JOIN CODE_MANAGE CM 		ON 	(UM.UM_POSITION_BCODE = CM.CM_BCODE)
													AND (UM.UM_POSITION = CM.CM_SCODE)
		WHERE	(UM_CODE > '00000')
		AND		(UM_CODE = '${strCode}')
		ORDER BY UM_CODE
	</select>
	
	<select id="userSelectAll" resultType="com.kitri.fpgw.model.UserDto">
 		SELECT 	UM_CODE STRCODE, 					UM_NAME STRNAME,
				UM_ID STRID, UM_PWD STRPWD,
				UM_DEPART_CD STRDEPART_CD, 			DE_NAME STRDEPART_NM,
				UM_POSITION STRPOSITION_CD, 		CM.CM_NAME STRPOSIONT_NM,
				UM_LEVEL INTLEVEL, 
				UM_TEL1 STRCO_TEL1, 				UM_TEL2 STRCO_TEL2, 
				UM_TEL3 STRCO_TEL3, 				UM_INLINE STRCO_TEL_INLINE,
				UM_HIRE_Y STRHIRE_YYYY, 			UM_HIRE_M STRHIRE_MM,
				UM_HIRE_D STRHIRE_DD, 				UM_VACATION_CNT INTVACATION_COUNT,
				UM_USE_FLAG INTUSE_FLAG, 			UD_GENDER STRGENDER,
				UD_BIRTH_Y STRBIRTH_YYYY, 			UD_BIRTH_M STRBIRTH_MM,
				UD_BIRTH_Y STRBIRTH_DD, 			UD_CALENDER_KIND INTCALENDER_KIND,
				UD_TEL1 STRHOME_TEL1, 				UD_TEL2 STRHOME_TEL2,
				UD_TEL3 STRHOME_TEL3, 				UD_MOBILE1 STRMOBILE1,
				UD_MOBILE2 STRMOBILE2, 				UD_MOBILE3 STRMOBILE3,
				UD_ZIP1 STRZIP1, 					UD_ZIP2 STRZIP2,
				UD_ADDR1 STRADDR1, 					UD_ADDR2 STRADDR2,
				UD_HOMEPAGE STRHOME_PAGE, 
				UD_WEDDING_FLAG INTWEDDING_FLAG, 	UD_WEDDING_Y STRWEDDING_YYYY,
				UD_WEDDING_M STRWEDDING_MM, 		UD_WEDDING_D STRWEDDING_DD,
				UD_HOBBY STRHOBBY, 					UD_RESUME STRRESUME,
				UD_INTRODUCTION STRINTRODUCTION, 	UD_MEMO STRMEMO,
				UI_FACE_NAME STRFACE_NAME, 			UI_FACE_PATH STRFACE_PATH,
				UI_SIGN_NAME STRSIGN_NAME, 			UI_SIGN_PATH STRSIGN_PATH
		FROM 	USER_MAIN UM
				LEFT OUTER JOIN USER_DETAIL UD 		ON	(UM.UM_CODE = UD.UD_UM_CODE)
				LEFT OUTER JOIN USER_IMAGE UI 		ON 	(UM.UM_CODE = UI.UI_UM_CODE)
				LEFT OUTER JOIN DEPART DE 			ON 	(UM.UM_DEPART_CD = DE.DE_DCODE)
				LEFT OUTER JOIN CODE_MANAGE CM 		ON 	(UM.UM_POSITION_BCODE = CM.CM_BCODE)
													AND (UM.UM_POSITION = CM.CM_SCODE)
		WHERE	(UM_CODE > '00000')
		ORDER BY UM_CODE   	
	</select>
	
	<insert id="userInsert" parameterType="com.kitri.fpgw.model.UserDto">
	
	</insert>
	
	<update id="userModify" parameterType="com.kitri.fpgw.model.UserDto">
	
	</update>
	
	<delete id="userDelete" parameterType="String">
		UPDATE USER_MAIN
		SET
			UM_USE_FLAG = 0
		WHERE (UM_CODE = '${strCode}')	
	</delete>
	
	
	
	
	
	
	
	
	
</mapper>